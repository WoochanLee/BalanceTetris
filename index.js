class t{constructor(){this._arr=[]}enqueue(t){this._arr.push(t)}dequeue(){return this._arr.shift()}get(t){return this._arr[t]}}function e(t){for(let e=0;e<16;e++){t[e]=new Array(28);for(let i=0;i<28;i++)t[e][i]={isExisted:!1,isDifferent:!1,blockColor:null}}}class i{constructor(){this.main={},this.background={},this.main.canvas=document.getElementById("canvas"),this.main.contxt=this.main.canvas.getContext("2d"),this.background.canvas=document.getElementById("background"),this.background.contxt=this.background.canvas.getContext("2d"),this.previousRenderBlocks=new Array(16),this.mergeCache=new Array(16),e(this.previousRenderBlocks),e(this.mergeCache),this._initializeBackgroundLayer()}renderWtihMerge(t,e){const i=this._mergeArray(t,e);this._markDifferenceBetweenPreviousRenderedStatus(i);for(let t=3;t<13;t++)for(let e=1;e<25;e++){let o=this.previousRenderBlocks[t][e];if(o.isDifferent){if(this._clearPrevRect(t,e,this.main.contxt),i[t][e].isExist){let o=i[t][e].blockColor;this._drawBlock(t,e,this.main.contxt,o),this._drawTopLeftShadow(t,e,this.main.contxt,o),this._drawBottomRightShadow(t,e,this.main.contxt,o)}o.isDifferent=!1}o.isExist=i[t][e].isExist}}_initializeBackgroundLayer(){for(let t=3;t<13;t++){let e="#37393A";for(let i=1;i<25;i++)this._drawBlock(t,i,this.background.contxt,e),this._drawTopLeftShadow(t,i,this.background.contxt,e)}}_mergeArray(t,e){for(let i=3;i<13;i++)for(let o=1;o<25;o++)this.mergeCache[i][o].isExist=!1,this.mergeCache[i][o].blockColor=null,t[i][o].isExist&&(this.mergeCache[i][o].isExist=!0,this.mergeCache[i][o].blockColor=t[i][o].blockColor),e[i][o].isExist&&(this.mergeCache[i][o].isExist=!0,this.mergeCache[i][o].blockColor=e[i][o].blockColor);return this.mergeCache}_markDifferenceBetweenPreviousRenderedStatus(t){for(let e=0;e<16;e++)for(let i=0;i<28;i++)this.previousRenderBlocks[e][i].isDifferent=this.previousRenderBlocks[e][i].isExist!=t[e][i].isExist||this.previousRenderBlocks[e][i].blockColor!=t[e][i].blockColor}_drawBlock(t,e,i,o){i.fillStyle="#FFFFFF",i.fillRect(0*(t-3)+25*(t-3)+120,0*e+25*e-20,25,25),i.fillStyle=o+"cc",i.fillRect(0*(t-3)+25*(t-3)+120,0*e+25*e-20,25,25)}_drawTopLeftShadow(t,e,i,o){i.fillStyle=o+"55",i.fillRect(0*(t-3)+25*(t-3)+120,0*e+25*e-20,25,3),i.fillRect(0*(t-3)+25*(t-3)+120,0*e+25*e-20,3,25)}_drawBottomRightShadow(t,e,i,o){i.fillStyle=o,i.fillRect(0*(t-3)+25*(t-3)+120,0*e+25*e-20+25-3,25,3),i.fillRect(0*(t-3)+25*(t-3)+120+25-3,0*e+25*e-20,3,25)}_clearPrevRect(t,e,i){i.clearRect(0*(t-3)+25*(t-3)+120,0*e+25*e-20,e,25,25),i.clearRect(0*(t-3)+25*(t-3)+120,0*e+25*e-20+25-3,25,3),i.clearRect(0*(t-3)+25*(t-3)+120,0*e+25*e-20,25,25)}}class o{constructor(){this.widthBlockCount=4,this.widthBlockMarginCount=0,this.heightBlockCount=1,this.heightBlockMarginCount=0,this.blockColor="#8CD6F3",this.shape=[[0,0],[1,0],[2,0],[3,0]],this.rotationBlueprint=[[[-2,1],[-1,1],[0,1],[1,1]],[[2,-1],[2,0],[2,1],[2,2]]],this.reverseRotationBlueprint=[[[-2,1],[-1,1],[0,1],[1,1]],[[2,-1],[2,0],[2,1],[2,2]]]}}class r{constructor(){this.widthBlockCount=3,this.widthBlockMarginCount=1,this.heightBlockCount=2,this.heightBlockMarginCount=0,this.blockColor="#BC48A9",this.shape=[[1,1],[2,0],[2,1],[3,1]],this.rotationBlueprint=[[[0,0],[1,-1],[1,0],[2,0]],[[1,-1],[1,0],[1,1],[2,0]],[[-1,1],[0,1],[0,2],[1,1]],[[0,0],[1,-1],[1,0],[1,1]]],this.reverseRotationBlueprint=[[[-1,1],[0,0],[0,1],[1,1]],[[1,-1],[1,0],[1,1],[2,0]],[[0,0],[1,0],[1,1],[2,0]],[[0,0],[1,-1],[1,0],[1,1]]]}}class l{constructor(){this.widthBlockCount=2,this.widthBlockMarginCount=1,this.heightBlockCount=2,this.heightBlockMarginCount=0,this.blockColor="#EFC23C",this.shape=[[1,0],[1,1],[2,0],[2,1]],this.rotationBlueprint=[],this.reverseRotationBlueprint=[]}}class s{constructor(){this.widthBlockCount=3,this.widthBlockMarginCount=1,this.heightBlockCount=2,this.heightBlockMarginCount=0,this.blockColor="#CF3656",this.shape=[[1,0],[2,0],[2,1],[3,1]],this.rotationBlueprint=[[[0,-1],[1,-1],[1,0],[2,0]],[[0,1],[0,2],[1,0],[1,1]]],this.reverseRotationBlueprint=[[[0,-1],[1,-1],[1,0],[2,0]],[[0,1],[0,2],[1,0],[1,1]]]}}class c{constructor(){this.widthBlockCount=3,this.widthBlockMarginCount=1,this.heightBlockCount=2,this.heightBlockMarginCount=0,this.blockColor="#96D038",this.shape=[[1,1],[2,0],[2,1],[3,0]],this.rotationBlueprint=[[[-1,1],[0,0],[0,1],[1,0]],[[1,-1],[1,0],[2,0],[2,1]]],this.reverseRotationBlueprint=[[[-1,1],[0,0],[0,1],[1,0]],[[1,-1],[1,0],[2,0],[2,1]]]}}class h{constructor(){this.widthBlockCount=3,this.widthBlockMarginCount=1,this.heightBlockCount=2,this.heightBlockMarginCount=0,this.blockColor="#DD7E30",this.shape=[[1,1],[2,1],[3,0],[3,1]],this.rotationBlueprint=[[[0,1],[1,1],[2,0],[2,1]],[[0,-2],[0,-1],[0,0],[1,0]],[[0,1],[0,2],[1,1],[2,1]],[[0,0],[1,0],[1,1],[1,2]]],this.reverseRotationBlueprint=[[[0,2],[1,2],[2,1],[2,2]],[[0,-1],[0,0],[0,1],[1,1]],[[0,0],[0,1],[1,0],[2,0]],[[0,-1],[1,-1],[1,0],[1,1]]]}}class n{constructor(){this.widthBlockCount=3,this.widthBlockMarginCount=1,this.heightBlockCount=2,this.heightBlockMarginCount=0,this.blockColor="#4E60E8",this.shape=[[1,0],[1,1],[2,1],[3,1]],this.rotationBlueprint=[[[-1,-1],[-1,0],[0,0],[1,0]],[[1,0],[1,1],[1,2],[2,0]],[[-1,0],[0,0],[1,0],[1,1]],[[1,1],[2,-1],[2,0],[2,1]]],this.reverseRotationBlueprint=[[[-1,0],[-1,1],[0,1],[1,1]],[[1,0],[1,1],[1,2],[2,0]],[[-1,-1],[0,-1],[1,-1],[1,0]],[[1,1],[2,-1],[2,0],[2,1]]]}}class a{constructor(){this.currentRotateDirection=0,this.initBlockTypes(),this.initPreviewBlocks(),this.blockArray=new Array(16),this.controlBlockCount=0,d(this.blockArray),this.initControlBlockType()}initBlockTypes(){this.blockTypeOne=new o,this.blockTypeTwo=new r,this.blockTypeThree=new l,this.blockTypeFour=new s,this.blockTypeFive=new c,this.blockTypeSix=new h,this.blockTypeSeven=new n}initControlBlockType(){this.addNewControlBlock()}initPreviewBlocks(){this.previewBlockQueue=new t;for(let t=0;t<2;t++)this.enqueueRandomTypePack()}enqueueRandomTypePack(){let t=this.makeRandomTypePack();for(let e=0;e<t.length;e++)this.previewBlockQueue.enqueue(new k(t[e]))}makeRandomTypePack(){return(t=>{for(let e=0;e<t.length;e++){let i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}return t})([this.blockTypeOne,this.blockTypeTwo,this.blockTypeThree,this.blockTypeFour,this.blockTypeFive,this.blockTypeSix,this.blockTypeSeven])}changeControlBlock(t){this.controlBlockType=t,this.refreshBlockArray()}addNewControlBlock(){this.controlBlockCount++,this.controlBlockType=this.previewBlockQueue.dequeue(),this.controlBlockCount%7==0&&this.enqueueRandomTypePack(),this.refreshBlockArray()}refreshBlockArray(){this.currentRotateDirection=0,m(this.blockArray);let t=this.controlBlockType.blockType.shape;for(let e=0;e<t.length;e++){let i=this.blockArray[t[e][0]+3+3][t[e][1]];i.isExist=!0,i.blockColor=this.controlBlockType.blockType.blockColor}}rotate(t,e,i,o,r){let l;l=r?function(t,e){let i=t+1;return i<e?i:0}(this.currentRotateDirection,this.controlBlockType.blockType.rotationBlueprint.length):function(t,e){let i=t-1;return i<0?e-1:i}(this.currentRotateDirection,this.controlBlockType.blockType.reverseRotationBlueprint.length);let s=function(t,e,i,o,r,l){let s,c=S(r),h=function(t){let e=null;for(let i=0;i<16;i++){for(let o=0;o<28;o++)if(t[i][o].isExist){e={x:i,y:o};break}if(null!=e)break}return e}(c);if(m(c),0==t.length)return null;s=l?t[i]:e[i];for(let t=0;t<s.length;t++){let e=h.x+s[t][0],i=h.y+s[t][1];if(!(e>=0&&e<16&&i>=0&&i<28))return null;c[e][i].isExist=!0,c[e][i].blockColor=o.controlBlockType.blockType.blockColor}return c}(this.controlBlockType.blockType.rotationBlueprint,this.controlBlockType.blockType.reverseRotationBlueprint,l,t,e,r);null!=s&&(this.rotateBlock(l,t,s,i,o,r,!1,0,0,0)||this.rotateBlock(l,t,s,i,o,r,!0,0,0,0))}rotateBlock(t,e,i,o,r,l,s,c,h,n){if(!function(t){for(let e=0;e<16;e++)for(let i=0;i<28;i++)if(1==t[e][i].isExist&&!(e>=3&&e<13&&i>=0&&i<25))return!1;return!0}(i)||v(i,o)){if(r>0){let a,k;return a=!(c>=2)&&this.checkLeftMoveRotation(t,e,i,o,r,l,s,c,h,n),a?!0:(k=!(h>=2)&&this.checkRightMoveRotation(t,e,i,o,r,l,s,c,h,n),s?!!k||!(n>=2)&&this.checkBottomMoveRotation(t,e,i,o,r,l,s,c,h,n):k)}return!1}return this.currentRotateDirection=t,e.blockArray=i,!0}checkLeftMoveRotation(t,e,i,o,r,l,s,c,h,n){let a=S(i);return!C(a)&&(f(a),this.rotateBlock(t,e,a,o,r-1,l,s,c+1,h,n))}checkRightMoveRotation(t,e,i,o,r,l,s,c,h,n){let a=S(i);return!T(a)&&(y(a),this.rotateBlock(t,e,a,o,r-1,l,s,c,h+1,n))}checkBottomMoveRotation(t,e,i,o,r,l,s,c,h,n){let a=S(i);return!b(a)&&(u(a),this.rotateBlock(t,e,a,o,r-1,l,s,c,h,n+1))}removeControlBlock(){m(this.blockArray)}}class k{constructor(t){this.blockType=t}}class B{constructor(){this.blockArray=new Array(16),d(this.blockArray)}}function d(t){for(let e=0;e<16;e++){t[e]=new Array(28);for(let i=0;i<28;i++)t[e][i]={isExist:!1,isPrevExisted:!1}}m(t)}function u(t){for(let e=0;e<16;e++){for(let i=27;0!=i;i--)E(t[e][i],t[e][i-1],t[e][i].isExist);t[e][0].isExist=!1}}function f(t){for(let e=0;e<28;e++){for(let i=0;i<15;i++)E(t[i][e],t[i+1][e],t[i][e].isExist);t[15][e].isExist=!1}}function y(t){for(let e=0;e<28;e++){for(let i=15;0!=i;i--)E(t[i][e],t[i-1][e],t[i][e].isExist);t[0][e].isExist=!1}}function p(t,e){let i=S(t),o=b(t),r=(s=e,u(l=i),v(l,s));var l,s;return!o&&!r}function w(t,e){let i=S(t),o=C(t),r=(s=e,f(l=i),v(l,s));var l,s;return!o&&!r}function g(t,e){let i=S(t),o=T(t),r=(s=e,y(l=i),v(l,s));var l,s;return!o&&!r}function v(t,e){for(let i=0;i<16;i++)for(let o=0;o<28;o++)if(t[i][o].isExist&&e[i][o].isExist)return!0;return!1}function b(t){for(let e=0;e<16;e++)if(t[e][24].isExist)return!0;return!1}function C(t){for(let e=0;e<28;e++)if(t[3][e].isExist)return!0;return!1}function T(t){for(let e=0;e<28;e++)if(t[12][e].isExist)return!0;return!1}function m(t){for(let e=0;e<16;e++)for(let i=0;i<28;i++)t[e][i].isExist&&(t[e][i].isPrevExisted=!0),t[e][i].isExist=!1,t[e][i].blockColor=null}function S(t){let e=new Array(16);d(e);for(let i=0;i<16;i++)for(let o=0;o<28;o++)A(e[i][o],t[i][o]);return e}function E(t,e,i){t.isPrevExisted=i,A(t,e)}function A(t,e){t.isExist=e.isExist,t.blockColor=e.blockColor}class x{constructor(){this.shiftBorderWidth=1,this.shiftBlockSize=12,this.shiftBlockShadowWidth=3,this.shiftedBlock=null,this.isAlreadyShiftedThisTime=!1}setShiftBlock(t){this.shiftedBlock=t,this.refreshData()}isShiftedBlockEmpty(){return null==this.shiftedBlock}refreshData(){this.blockType=this.shiftedBlock.blockType;let t=this.blockType.widthBlockCount,e=this.blockType.widthBlockMarginCount,i=this.blockType.heightBlockCount,o=this.blockType.heightBlockMarginCount;this.shiftBackgroundWidthPadding=45-this.shiftBlockSize*e-this.shiftBorderWidth*e-(this.shiftBlockSize*t+this.shiftBorderWidth*(t-1))/2,this.shiftBackgroundHeightPadding=45-this.shiftBlockSize*o-this.shiftBorderWidth*o-(this.shiftBlockSize*i+(this.shiftBorderWidth*i-1))/2}init(t){this._drawTitle(t)}draw(t){this.drawBackgroundCircle(t),this.isShiftedBlockEmpty()||this.drawShiftBlock(t)}_drawTitle(t){t.font="16px -apple-system, BlinkMacSystemFont, Open Sans, sans-serif",t.fillStyle="#444444",t.textAlign="center",t.fillText("HOLD",50,15)}drawBackgroundCircle(t){t.fillStyle="#444444",t.beginPath(),t.arc(50,70,45,0,2*Math.PI,!1),t.fill()}drawShiftBlock(t){for(let e=0;e<this.blockType.shape.length;e++){let i=this.blockType.blockColor;t.fillStyle=i+"cc";let o=this.blockType.shape[e][0],r=this.blockType.shape[e][1],l=50+this.shiftBlockSize*o+this.shiftBorderWidth*o-45+this.shiftBackgroundWidthPadding,s=70+this.shiftBlockSize*r+this.shiftBorderWidth*r-45+this.shiftBackgroundHeightPadding;t.fillRect(l,s,this.shiftBlockSize,this.shiftBlockSize),t.fillStyle=i,t.fillRect(l,s,this.shiftBlockShadowWidth,this.shiftBlockSize),t.fillRect(l,s,this.shiftBlockSize,this.shiftBlockShadowWidth)}}}const R=document.getElementById("sound-drop"),M=document.getElementById("sound-shift"),D=document.getElementById("sound-clear_line"),P=document.getElementById("sound-game_over");class W{constructor(){}play(t){t.ended||this._stop(t),t.play()}_stop(t){t.pause(),t.currentTime=0}}const _=[[440,70],[440,160],[440,230],[440,300]];class z{constructor(){this.previewBlockArray=new Array(4);for(let t=0;t<_.length;t++){let e;e=0==t?45:30,this.previewBlockArray[t]=new I(_[t][0],_[t][1],e)}}init(t){this._drawTitle(t)}setBlockType(t){for(let e=0;e<this.previewBlockArray.length;e++)this.previewBlockArray[e].setBlockType(t.get(e))}draw(t){for(let e=0;e<this.previewBlockArray.length;e++)this.previewBlockArray[e].draw(t)}_drawTitle(t){t.font="16px -apple-system, BlinkMacSystemFont, Open Sans, sans-serif",t.fillStyle="#444444",t.textAlign="center",t.fillText("NEXT",_[0][0],15)}}class I{constructor(t,e,i){this.locationX=t,this.locationY=e,this.radius=i,this.previewBorderWidth=i/45,this.previewBlockSize=4*i/15,this.previewBlockShadowWidth=i/15}setBlockType(t){this.blockType=t.blockType;let e=this.blockType.widthBlockCount,i=this.blockType.widthBlockMarginCount,o=this.blockType.heightBlockCount,r=this.blockType.heightBlockMarginCount;this.previewBackgroundWidthPadding=this.radius-this.previewBlockSize*i-this.previewBorderWidth*i-(this.previewBlockSize*e+this.previewBorderWidth*(e-1))/2,this.previewBackgroundHeightPadding=this.radius-this.previewBlockSize*r-this.previewBorderWidth*r-(this.previewBlockSize*o+(this.previewBorderWidth*o-1))/2}draw(t){this.drawBackgroundCircle(t),this.drawPreviewBlock(t)}drawBackgroundCircle(t){t.fillStyle="#444444",t.beginPath(),t.arc(this.locationX,this.locationY,this.radius,0,2*Math.PI,!1),t.fill()}drawPreviewBlock(t){for(let e=0;e<this.blockType.shape.length;e++){let i=this.blockType.blockColor;t.fillStyle=i+"cc";let o=this.blockType.shape[e][0],r=this.blockType.shape[e][1],l=this.locationX+this.previewBlockSize*o+this.previewBorderWidth*o-this.radius+this.previewBackgroundWidthPadding,s=this.locationY+this.previewBlockSize*r+this.previewBorderWidth*r-this.radius+this.previewBackgroundHeightPadding;t.fillRect(l,s,this.previewBlockSize,this.previewBlockSize),t.fillStyle=i,t.fillRect(l,s,this.previewBlockShadowWidth,this.previewBlockSize),t.fillRect(l,s,this.previewBlockSize,this.previewBlockShadowWidth)}}}let L=null,F=0,G=0,K=document.getElementById("level"),q=document.getElementById("score"),N=document.getElementById("game-over"),O=document.getElementById("chanImg"),Q=document.getElementById("youngImg"),H=!1;function U(){clearInterval(L),L=setInterval((()=>Y.flowGravityWithDraw()),1e3*Math.pow(.99,F))}function X(){H=!0,clearInterval(L),N.style.visibility="visible",0==G&&(O.src="res/chan_fail.png",Q.src="res/young_fail.png")}L=setInterval((()=>Y.flowGravity()),1e3*Math.pow(.99,F));const Y=new class{constructor(){this.renderer=new i,this.audioPlayer=new W,this.canvas=document.getElementById("canvas"),this.background={},this.background.canvas=document.getElementById("background"),this.background.ctx=this.background.canvas.getContext("2d"),this.shouldUpdateStackedLayer=!1,this.ctx=canvas.getContext("2d"),this.stackedBlock=new B,this.controlBlock=new a,this.shiftBlock=new x,this.previewBlockManager=new z,this.isSpaceDownRunning=!1,this.collisionDelay=0,this.init()}init(){this.shiftBlock.init(this.ctx),this.previewBlockManager.init(this.ctx),this.flowGravityWithDraw()}drawBlocks(){this.renderer.renderWtihMerge(this.controlBlock.blockArray,this.stackedBlock.blockArray),this.drawNextBlocks(),this.drawShiftBlock()}drawNextBlocks(){this.previewBlockManager.setBlockType(this.controlBlock.previewBlockQueue),this.previewBlockManager.draw(this.ctx)}drawShiftBlock(){this.shiftBlock.draw(this.ctx)}flowGravityWithDraw(){this.flowGravity(),this.drawBlocks()}flowGravity(){if(p(S(this.controlBlock.blockArray),this.stackedBlock.blockArray))u(this.controlBlock.blockArray),U();else if(this.collisionDelay<2)this.collisionDelay++;else{this.audioPlayer.play(R),this.shiftBlock.isAlreadyShiftedThisTime=!1,this.isSpaceDownRunning=!1,this.collisionDelay=0,this.addBlocksToStackedArray(this.controlBlock.blockArray,this.stackedBlock.blockArray),!function(t){t>0&&(G+=t*t,q.textContent=`${G}`)}(this.removeCompletedLine(0)),this.checkIsGameOver(this.stackedBlock.blockArray)?(this.controlBlock.removeControlBlock(),this.audioPlayer.play(P),X()):(this.controlBlock.addNewControlBlock(),F++,K.textContent=`${F}`,this.flowGravityWithDraw(),U())}}removeCompletedLine(t){let e=this.stackedBlock.blockArray;for(let i=0;i<28;i++){let o=!0;for(let t=3;t<13;t++)if(!e[t][i].isExist){o=!1;break}if(o)return this.removeLine(i),this.removeCompletedLine(t+1)}return t>0&&this.audioPlayer.play(D),t}removeLine(t){let e=this.stackedBlock.blockArray;for(let i=t;i>0;i--)for(let t=0;t<16;t++)A(e[t][i],e[t][i-1])}addBlocksToStackedArray(t,e){for(let i=0;i<16;i++)for(let o=0;o<28;o++)t[i][o].isExist&&A(e[i][o],t[i][o]);this.shouldUpdateStackedLayer=!0}shiftControlBlock(){if(!this.shiftBlock.isAlreadyShiftedThisTime){if(this.shiftBlock.isAlreadyShiftedThisTime=!0,this.audioPlayer.play(M),this.shiftBlock.isShiftedBlockEmpty())this.shiftBlock.setShiftBlock(this.controlBlock.controlBlockType),this.controlBlock.addNewControlBlock();else{let t=this.shiftBlock.shiftedBlock;this.shiftBlock.setShiftBlock(this.controlBlock.controlBlockType),this.changeControlBlock(t)}this.flowGravityWithDraw()}}changeControlBlock(t){this.controlBlock.changeControlBlock(t)}checkIsGameOver(t){for(let e=3;e<13;e++)if(t[e][1].isExist)return!0;return!1}reDraw(){this.drawBlocks()}onEventLeftArrow(){w(this.controlBlock.blockArray,this.stackedBlock.blockArray)&&f(this.controlBlock.blockArray)}onEventRightArrow(){g(this.controlBlock.blockArray,this.stackedBlock.blockArray)&&y(this.controlBlock.blockArray)}onEventDownArrow(){this.flowGravityWithDraw()}onEventUpArrow(){this.controlBlock.rotate(this.controlBlock,this.controlBlock.blockArray,this.stackedBlock.blockArray,3,!0)}onEventSpace(){for(this.isSpaceDownRunning=!0;this.isSpaceDownRunning;)this.flowGravity();this.drawBlocks()}onEventShift(){this.shiftControlBlock()}onEventKeyQ(){this.controlBlock.rotate(this.controlBlock,this.controlBlock.blockArray,this.stackedBlock.blockArray,3,!1)}onEventKeyE(){this.controlBlock.rotate(this.controlBlock,this.controlBlock.blockArray,this.stackedBlock.blockArray,3,!0)}onEventKeyZ(){this.controlBlock.rotate(this.controlBlock,this.controlBlock.blockArray,this.stackedBlock.blockArray,3,!1)}onEventKeyC(){this.controlBlock.rotate(this.controlBlock,this.controlBlock.blockArray,this.stackedBlock.blockArray,3,!0)}};window.onkeydown=t=>{!function(t){if(t.preventDefault(),H)return;switch(t.code){case"ArrowLeft":Y.onEventLeftArrow();break;case"ArrowRight":Y.onEventRightArrow();break;case"ArrowDown":Y.onEventDownArrow();break;case"ArrowUp":Y.onEventUpArrow();break;case"Space":Y.onEventSpace();break;case"ShiftLeft":Y.onEventShift();break;case"KeyQ":Y.onEventKeyQ();break;case"KeyE":Y.onEventKeyE();break;case"KeyZ":Y.onEventKeyZ();break;case"KeyC":Y.onEventKeyC()}Y.drawBlocks()}(t)};
//# sourceMappingURL=index.js.map
